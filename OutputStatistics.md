# Output Statistics
This document describes the output structures and descriptive statistics produced by this package. 

## pStack structures
These contain the image data (and meta-data) upon which we will work.
This structure is not altered during analysis.

* pStack.imStack: The last plane or a 3D stack of planes. The stack we use if we are running tests with ground-truth data. 
                  In each case it should be one 2D matrix per physical section. Average optical planes if they are present. 
pStack.recipe: The acquisition recipe structure
pStack.voxelSizeInMicrons: Number of microns per pixel in x/y of pStack.imStack
pStack.tileSizeInMicrons: The size of a single tile. We assume tiles are square!
pStack.fullFOV: NOT_IMPLEMENTED_YET (TODO)
pStack.sectionNumber: The index of the section. e.g. if this was that 10th section this should equal 10.
            For ground-truth data, this is automatically filled in. 

pStack.nSamples: Optional. Not used at present
pStack.binarized: Only needed in ground-truth data. These borders indicate where sample tissue can be found.
pStack.borders: LEGACY NOT NEEDED


## autoROI
The output of autoROI is as follows:
stats.origPixelSize: Number of microns per pixel of pStack.imStack
stats.rescaledPixelSize: Number of microns per pixel used in analysis for ROI extraction
stats.nSamples: Number of samples copied from pStack. 
stats.settings: The settings used for the algorithm (see autoROI.readSettings)
stats.roiStats: A structure containing stats for each ROI (see below)

## autoROI.test.runOnStackStruct
Running autoROI.test.runOnStackStruct produces the autoROI structure plus the following extra fields:
stats.numUnprocessedSections: The number of sections not processed by autoROI
stats.report: A summary data report generated by autoROI.test.evaluateBoundingBoxes
stats.autothreshStats: The stats generated by the initial run of autoROI.autothresh.run


Returns a structure with the following fields


`BoundingBoxes` - A cell array of bounding boxes in the form: is [x y width height]. 
`BoundingBox` - Used by runOnStackStruct (NOT SURE WHY)
`notes` - An optional string for keeping observations
`tThresh` - Absolute threshold used for computing the binary image

`origPixelSize` - Number of microns per pixel of the original image
`rescaledPixelSize` - Number of microns per pixel of the downsampled image used for the analysis
`rescaledRatio` - origPixelSize/rescaleTo
`imSize` - The full size of the image in which the ROIs were found. Reflects downsampling.




 
`BoundingBoxSqMM` - A vector of length(BoundingBoxes) listing the sq mm of each bounding box.
`meanBoundingBoxSqMM` - mean of all bounding box areas: `mean(out.BoundingBoxSqMM)`
`totalBoundingBoxSqMM` - Sum of all bounding box areas: `sum(out.BoundingBoxSqMM)`
`propImagedAreaCoveredByBoundingBox` - The proportion of the original FOV covered by bounding boxes.


